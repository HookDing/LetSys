
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <script src="/Content/JS/jquery-easyui-1.4.1/jquery.min.js"></script>
    <script src="/Content/JS/jquery-easyui-1.4.1/jquery.easyui.min.js"></script>
    <script src="/Content/JS/jquery-easyui-1.4.1/jquery.easyui.extend.min.js"></script>
    <link href="/Content/JS/jquery-easyui-1.4.1/themes/color.css" rel="stylesheet" />
    <link href="/Content/JS/jquery-easyui-1.4.1/themes/icon.css" rel="stylesheet" />
    <link href="/Content/JS/jquery-easyui-1.4.1/themes/gray/easyui.css" rel="stylesheet" />
    <link href="/Content/CSS/bootstrapall/css/bootstrap.css" rel="stylesheet" />
    <script src="/Content/CSS/bootstrapall/js/bootstrap.js"></script>
    <link href='/Content/CSS/font-awesome-4.3.0/css/font-awesome.css' rel='stylesheet' />
    <link href="/Content/CSS/form.css" rel="stylesheet" />
    <script>
        $(function () {

            //设置datatable的属性

            //查询全部，不分页
            //$("#dataTable").datagrid({
            //    url: "/Employs/GetAllMod",
            //    rownumbers: true,
            //    singleSelect: true,
            //    striped: true,
            //    fitColumns: true,
            //    toolbar: "#toolDiv",
            //    height: $(window).height() * 0.90
            //});

            //分页查询
            $("#dataTable").datagrid({
                url: "/Employs/GetModPage",
                rownumbers: true,
                singleSelect: true,
                striped: true,
                fitColumns: true,
                toolbar: "#toolDiv",
                height: $(window).height() * 0.90
            })
        })
        function showWork(value) {
            return "<a href='javascript:showEdit(" + value + ")'>编辑</a>&nbsp;&nbsp;<a href='javascript:deleteData(" + value + ")'>删除</a>&nbsp;&nbsp;<a href='#'>密码重置</a>";
        }

        //添加窗体
        function showAdd() {
            $("#btn").data["id"] = null;
            $("#txt_DutyName").val("");
            $("#txt_DutyMark").val("");
            $("#addDiv").window({
                title: "添加职位",
                closed: false,
            });
        }
    </script>
</head>
<body>
    <!--查询-->
    <div class="divselect">
        <form id="formData">
            <table class="tableSelect">
                <tr>
                    <th>员工姓名：</th>
                    <td><input type="text" id="txt_EmpName" /></td>
                    <th>所属部门：</th>
                    <td>
                        <select id="DepName">
                            <option>全部</option>
                            <option>人事部</option>
                            <option>财务部</option>
                        </select>
                    </td>
                    <th>职位：</th>
                    <td>
                        <select id="DutyName">
                            <option>全部</option>
                            <option>经理</option>
                            <option>主管</option>
                        </select>
                    </td>
                    <td>
                        &nbsp;&nbsp;
                        <input type="button" value="查询" onclick="Enter()" />
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="toolDiv">
        <a class="easyui-linkbutton" data-options="iconCls:'icon-add',plain:true" href="#" onclick="showAdd()">添加</a>
        <a href="#">离职</a>
        <a href="#">退休</a>
    </div>
    <!--列表-->
    <table id="dataTable" class="tableList" style="width:95%;">
        <thead>
            <tr>
                <th data-options="field:'EmpID',width:20,formatter:showWork">操作</th>
                <th data-options="field:'LoginName'">员工账号</th>
                <th data-options="field:'DepName'">所属部门</th>
                <th data-options="field:'DutyName',width:10">职位</th>
                <th data-options="field:'EmpName'">员工姓名</th>
                <th data-options="field:'EmpSex'">性别</th>
                <th data-options="field:'EmpTel',width:10">联系电话</th>
                <th data-options="field:'EmpAdd',width:20">家庭地址</th>
                <th data-options="field:'EmpState'">状态</th>
            </tr>
        </thead>
    </table>
    <!--分页按钮集-->
    <div id="pp" style="background:#efefef;border:1px solid #ccc;"></div>
    <script>
        $('#pp').pagination({
            total: 15,//ViewBag.Count,
            pageSize: 10,//ViewBag.pageSize,
        });
    </script>
</body>
</html>
